<!DOCTYPE html>
<html lang="fr" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>code. grind. sleep.</title>

<meta name="keywords" content="" />
<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="https://www.orgrim.net/" />
<link href="/assets/css/stylesheet.min.e5822bfcb21f8a202b16444ca56d1de6f331407cddd45f1de4a1e0af441b35e4.css" integrity="sha256-5YIr/LIfiiArFkRMpW0d5vMxQHzd1F8d5KHgr0QbNeQ=" rel="preload stylesheet"
    as="style">

<link rel="icon" href="https://www.orgrim.net/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.orgrim.net/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.orgrim.net/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.orgrim.net/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.orgrim.net/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.83.1" />
<link rel="alternate" type="application/rss&#43;xml" href="https://www.orgrim.net/index.xml">
<link rel="alternate" hreflang="fr" href="https://www.orgrim.net/" />
<link rel="alternate" hreflang="en" href="https://www.orgrim.net/en/" />


<meta property="og:title" content="code. grind. sleep." />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.orgrim.net/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="code. grind. sleep."/>
<meta name="twitter:description" content=""/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "code. grind. sleep.",
  "url": "https://www.orgrim.net/",
  "description": "",
  "thumbnailUrl": "https://www.orgrim.net/favicon.ico",
  "sameAs": [
      "https://twitter.com/orgrim", "https://github.com/orgrim", "https://www.linkedin.com/in/nthauvin/"
  ]
}
</script>


</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }
    </style>

</noscript>
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.orgrim.net/" accesskey="h" title="code. grind. sleep. (Alt + H)">code. grind. sleep.</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                
                

                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://www.orgrim.net/en/" title="English"
                            aria-label="English">En</a>
                    </li>
                </ul>
            </span>
        </div>
        <ul id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://www.orgrim.net/post" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://www.orgrim.net/categories" title="Catégories">
                    <span>Catégories</span>
                </a>
            </li>
            <li>
                <a href="https://www.orgrim.net/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li></ul>
    </nav>
</header>

    <main class="main"> 





<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Confiner PostgreSQL avec SELinux
    </h2>
  </header>
  <section class="entry-content">
    <p>.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:#444;background:#e7f2fa}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:#fff;background:#6ab0de}.notice.warning .notice-title{background:rgba(217,83,79,.9)}.notice.warning{background:#fae2e2}.notice.info .notice-title{background:#f0b37e}.notice.info{background:#fff2db}.notice.note .notice-title{background:#6ab0de}.notice.note{background:#e7f2fA}.notice.tip .notice-title{background:rgba(92,184,92,.8)}.notice.tip{background:#e6f9e6}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:0.125em;position:relative} Remarque
Ce post est partiellement obsolète, avec le passage à systemd. Voir la mise à jour.
 J’avais déjà expérimenté un peu avec SELinux il y a deux ans sans aller trop loin, parce que j’entendais souvent la phrase “Si on veut de la sécurité, il faut SELinux” et surtout à cause de l’arrivée de l’extension sepgsql dans les modules contrib de PostgreSQL. Ça avait donné une conf pour le Fosdem où finalement, j’ai plus parlé des privilèges classiques que de SELinux.
...</p>
  </section>
  <footer class="entry-footer">2014-09-22&nbsp;·&nbsp;4 min
</footer>
  <a class="entry-link" aria-label="post link to Confiner PostgreSQL avec SELinux" href="https://www.orgrim.net/post/2014-09-22-confiner-postgresql-avec-selinux/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Migration du blog sur github
    </h2>
  </header>
  <section class="entry-content">
    <p>Finalement le temps ne me permettant plus d’administrer mon serveur dédié comme il faut, j’ai décidé de l’abondonner et transférer mes services ailleurs. Pour le blog et le wiki, j’ai choisi de faire un site/blog github avec jekyll, vu que c’est tout prémaché.
...</p>
  </section>
  <footer class="entry-footer">2014-05-28&nbsp;·&nbsp;2 min
</footer>
  <a class="entry-link" aria-label="post link to Migration du blog sur github" href="https://www.orgrim.net/post/2014-05-28-migration-du-blog-sur-github/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      modular-xorg, radeon et pas de KMS
    </h2>
  </header>
  <section class="entry-content">
    <p>Il y avait un moment que je n’avais pas touché à NetBSD et donc mis à jour mon lappy avec du pkg frais. Entre temps, la version de X.org modular, donc issue de pkgsrc, est revenue en 2012, avec son lot de drivers mis à jour. Le drivers xf86-video-ati, est passé en version 7.1.0, sauf qu’il fonctionne uniquement en KMS (Kernel Mode Setting), chose qu’on n’a pas encore dans notre kernel.
...</p>
  </section>
  <footer class="entry-footer">2013-08-23&nbsp;·&nbsp;1 min
</footer>
  <a class="entry-link" aria-label="post link to modular-xorg, radeon et pas de KMS" href="https://www.orgrim.net/post/2013-08-23-modular-xorg-radeon-et-pas-de-kms/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Un bulk build par jour dans un screen
    </h2>
  </header>
  <section class="entry-content">
    <p>Mes packages NetBSD sont préparés par pbulk, qui tourne en continu grâce au script pbulk-builder.
...</p>
  </section>
  <footer class="entry-footer">2013-05-10&nbsp;·&nbsp;1 min
</footer>
  <a class="entry-link" aria-label="post link to Un bulk build par jour dans un screen" href="https://www.orgrim.net/post/2013-05-10-un-bulk-build-par-jour-dans-un-screen/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Oups... des tablespaces imbriqués
    </h2>
  </header>
  <section class="entry-content">
    <p>Imbriquer des tablespaces n’a pas vraiment de sens dans PostgreSQL surtout si on veut se prendre la tête avec des montages dans tous les sens… Mais bon c’est permis, car PostgreSQL utilise uniquement les liens symboliques dans $PGDATA/pg_tblspc pour accéder au contenu des tablespaces.
...</p>
  </section>
  <footer class="entry-footer">2013-04-06&nbsp;·&nbsp;2 min
</footer>
  <a class="entry-link" aria-label="post link to Oups... des tablespaces imbriqués" href="https://www.orgrim.net/post/2013-04-06-oups-des-tablespaces-imbriques/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      pbulk-builder et pkgtools/mksandbox
    </h2>
  </header>
  <section class="entry-content">
    <p>Après la réinstall d’une de mes machines de build en 6.0.1, j’ai eu la bonne surprise de voir que le script de build pbulk-builder (https://github.com/orgrim/nb-utils) ne trouvait plus mksandbox dans l’arbre de pkgsrc. Il est désormais dans son paquet : pkgtools/mksandbox
...</p>
  </section>
  <footer class="entry-footer">2013-01-26&nbsp;·&nbsp;1 min
</footer>
  <a class="entry-link" aria-label="post link to pbulk-builder et pkgtools/mksandbox" href="https://www.orgrim.net/post/2013-01-26-pbulk-builder-et-pkgtoolsmksandbox/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Got GUC?
    </h2>
  </header>
  <section class="entry-content">
    <p>Les paramètres de configuration de PostgreSQL sont appelés GUC ce qui signifie Grand Unified Configuration, c’est le nom de la partie du code qui gère les paramètres de configuration. En gros, ce sont tous les paramètres du fichier postgresql.conf.
Ce qui est moins connu et utilisé, c’est la possibilité de configurer ces paramètres à différents niveaux :
 Fichier postgresql.conf Ligne de commande du postmaster, le processus principal du serveur Base de données Rôle Rôle sur une base de données Session Transaction  La précédence des valeurs va en descendant dans la liste, par exemple la valeur d’un paramètre au niveau d’un rôle écrase celle positionnée au niveau de la base de donnée ou la ligne de commande....</p>
  </section>
  <footer class="entry-footer">2012-01-25&nbsp;·&nbsp;3 min
</footer>
  <a class="entry-link" aria-label="post link to Got GUC?" href="https://www.orgrim.net/post/2012-01-25-got-guc/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Compiler dans l&#39;arbre des sources
    </h2>
  </header>
  <section class="entry-content">
    <p>Je m’occupe actuellement de préparer ma box pour le FOSDEM, et il s’avère qu’il manque le support du DRM (Direct Rendering Manager, le truc pour avoir de l’accélération graphique dans le kernel pour X.org) pour ma carte vidéo. Il s’agit de NetBSD 5.1.1, la version 6 n’aura pas ce manque.
...</p>
  </section>
  <footer class="entry-footer">2012-01-24&nbsp;·&nbsp;2 min
</footer>
  <a class="entry-link" aria-label="post link to Compiler dans l&#39;arbre des sources" href="https://www.orgrim.net/post/2012-01-24-compiler-dans-larbre-des-sources/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      X11 forwarding request failed on channel 0
    </h2>
  </header>
  <section class="entry-content">
    <p>Quand j’essaye de me logguer sur ma box NetBSD fraichement passé en X.org modular, j’ai ça :
orgrim@serfouette ~ $ ssh rateau X11 forwarding request failed on channel 0 Last login: Fri Oct 21 12:20:24 2011 from serfouette.home.orgrim.net  WTF? ça tombe en marche SSH normalement.
Et bien le souci vient de l’échange des magic cookies pour l’authentification entre serveurs X à travers SSH, c’est utilisé par le X11 forwarding et on a besoin de plusieurs choses pour ça :...</p>
  </section>
  <footer class="entry-footer">2011-10-21&nbsp;·&nbsp;2 min
</footer>
  <a class="entry-link" aria-label="post link to X11 forwarding request failed on channel 0" href="https://www.orgrim.net/post/2011-10-21-x11-forwarding-request-failed-on-channel-0/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Quand PostgreSQL n&#39;a plus d&#39;espace disque à manger
    </h2>
  </header>
  <section class="entry-content">
    <p>Voilà donc une question intéressante, comment se comporte PostgreSQL face à un système de fichier plein ? Un peu d’expérimentation est nécessaire pour se rassurer…
On crée deux systèmes de fichiers de faible taille pour les tests. Le premier stockera PGDATA, ainsi qu’une base de données nommée db_data. Le second sera le tablesapce ts1, dans lequel oncréera une base de données db_ts1.
L’objectif est de montrer que seules les transactions modifiant des objets stockés sur des systèmes de fichier plein sont affectées, c’est pourquoi on a besoin de plusieurs tablespaces....</p>
  </section>
  <footer class="entry-footer">2011-10-14&nbsp;·&nbsp;4 min
</footer>
  <a class="entry-link" aria-label="post link to Quand PostgreSQL n&#39;a plus d&#39;espace disque à manger" href="https://www.orgrim.net/post/2011-10-14-quand-postgresql-na-plus-despace-disque-a-manger/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://www.orgrim.net/">« Page Précédente</a>
    <a class="next" href="https://www.orgrim.net/page/3/">Page Suivante »</a>
  </nav>
</footer>

    </main><footer class="footer">
    <span>&copy; 2021 <a href="https://www.orgrim.net/">code. grind. sleep.</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a></span>
    <span>&middot;</span>
    <span>Theme <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>



<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

</body>

</html>
