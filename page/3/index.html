<!DOCTYPE html>


<html lang="fr" data-theme="">
<head>
	<meta name="generator" content="Hugo 0.76.4" />
    
        
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer-when-downgrade">

<title>code. grind. sleep.</title>
<meta name="description" content="">

<link rel="alternate" type="application/rss+xml" href="https://www.orgrim.net/index.xml" title="code. grind. sleep." />
<link rel="icon" type="image/x-icon" href="https://www.orgrim.net/favicon.ico">
<link rel="apple-touch-icon-precomposed" href="https://www.orgrim.net/favicon.png">

<link rel="stylesheet" href="https://www.orgrim.net/css/light.css?rnd=1605390221" />
<style>

    [data-theme="dark"] {   
        --font-color: #eee;
--bg-color: #212121;

--link-color:#599ada;
--link-state-color:#ff5858;
--link-state-border-color: rgba(238, 54, 54, 0.5);

--thead-bg-color: #343a40;
--table-border-color: lightgrey;

--pre-color: #333;
--pre-bg-color: #f1f1f1;

--bq-color: #ccc;
--hr-color: #333;

--pagination-bg-color: #373737;
--pagination-link-color: #b6b6b6;

--post-info-color: grey;

--switcher-color: #333;
--switcher-bg-color: #fff;

    }

</style>

<link rel="stylesheet" href="https://www.orgrim.net/css/style.css?rnd=1605390221" />

<link rel="stylesheet" href="https://www.orgrim.net/css/custom.css?rnd=1605390221"><link rel="stylesheet" href="https://www.orgrim.net/css/syntax.css?rnd=1605390221">



<meta property="og:title" content="code. grind. sleep." />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.orgrim.net/" />
<meta property="og:updated_time" content="2020-07-28T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="code. grind. sleep."/>
<meta name="twitter:description" content=""/>








    
</head>
<body>
    <a class="skip-main" href="#main">Passer au contenu principal</a>
    <div class="container">
        <header class="common-header"> 
            
                <h1 class="site-title">
    <a href="/">code. grind. sleep.</a>
</h1>

    <nav>
        
        
        <a class="" href="https://www.orgrim.net/" title="">Blog</a>
        
        <a class="" href="https://www.orgrim.net/categories" title="">Categories</a>
        
        <a class="" href="https://www.orgrim.net/tags" title="">Tags</a>
        
    </nav>


            
        </header>
        <main id="main" tabindex="-1"> 
            
    <div class="homepage-content">
        
    </div>

    
    
        <article class="post-list">
    <header class="post-header">
        <h1 class="post-title"><a href="/post/2011-07-04-configuration-reseau-pour-virtualiser-chez-ovh/">Configuration réseau pour virtualiser chez OVH</a></h1>
    </header>

    <div class="content post-summary">
        Sur mon serveur chez OVH, j&rsquo;ai un ensemble de machines virtuelles KVM et (bientôt) de conteneurs LXC. Pour fournir du réseau à tout ce petit monde, j&rsquo;utilise de l&rsquo;IPv4 et de l&rsquo;IPv6, voici comment c&rsquo;est configuré.
Pour l&rsquo;IPv4, on a un nombre limité d&rsquo;IP publiques parce que ça vaut de la thune et que ça va être de plus en tendu de multiplier les adresses, il nous faut un réseau privé (beurk), du NAT (rebeurk) et des redirections à base d&rsquo;iptables (re-rebeurk).
    </div>
    
    
    

    


<div class="post-info">
    
        <div class="post-date">2011-07-04</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://www.orgrim.net/categories/">Unix</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://www.orgrim.net/tags/unix">#unix</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/debian">#debian</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/lxc">#lxc</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/ipv6">#ipv6</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
        <article class="post-list">
    <header class="post-header">
        <h1 class="post-title"><a href="/post/2011-07-04-netbsd-en-kvm/">NetBSD en KVM</a></h1>
    </header>

    <div class="content post-summary">
        <p>Comme je viens d&rsquo;investir dans un <a href="http://www.kimsufi.com/fr/">serveur kimsufi</a> (le 16G), je me suis dis qu&rsquo;avoir
quelques machines NetBSD pour servir la bonne cause ça serait bien cool.</p>
    </div>
    
    
    

    


<div class="post-info">
    
        <div class="post-date">2011-07-04</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://www.orgrim.net/categories/">NetBSD</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://www.orgrim.net/tags/netbsd">#netbsd</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/kvm">#kvm</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
        <article class="post-list">
    <header class="post-header">
        <h1 class="post-title"><a href="/post/2011-06-29-rediriger-stdoutstderr-depuis-un-script-avec-du-pipe/">Rediriger stdout/stderr depuis un script avec du pipe</a></h1>
    </header>

    <div class="content post-summary">
        Pour rediriger stdout/stderr à l&rsquo;interieur vers l&rsquo;entrée standard d&rsquo;un commande, il faut utiliser exec et du sous-shell. Cette astuce est un bashisme a priori.
L&rsquo;objectif est de renvoyer tous les messages du script dans syslog sans mettre de redirection sur la ligne de commande. Le principe général est :
exec FD&gt; &gt;(COMMAND)   FD est le numéro du file descriptor, 1 pour stdout, 2 pour stderr COMMAND est la commande a exécuter, elle doit bien sûr lire les données en entrée.
    </div>
    
    
    

    


<div class="post-info">
    
        <div class="post-date">2011-06-29</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://www.orgrim.net/categories/">Unix</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://www.orgrim.net/tags/unix">#unix</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/bash">#bash</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
        <article class="post-list">
    <header class="post-header">
        <h1 class="post-title"><a href="/post/2011-06-21-combiner-des-pdf-en-un-seul/">Combiner des PDF en un seul</a></h1>
    </header>

    <div class="content post-summary">
        Pour combiner des pdf en un seul, on peut essayer pdfjoin fournit par le projet pdfjam. En attendant que les 250 Mo de dépendances (Latex principalement) s&rsquo;installent, on peut utiliser ghostscript :
gs -sDEVICE=pdfwrite -dNOPAUSE -dQUIET -dBATCH -sOutputFile=../combined_doc.pdf *.pdf  Merci à perlmonks.org.
    </div>
    
    
    

    


<div class="post-info">
    
        <div class="post-date">2011-06-21</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://www.orgrim.net/categories/">Unix</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://www.orgrim.net/tags/unix">#unix</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/ghostscript">#ghostscript</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/pdf">#pdf</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
        <article class="post-list">
    <header class="post-header">
        <h1 class="post-title"><a href="/post/2011-04-07-retrouver-un-trigger-a-partir-du-nom-de-la-fonction-associee/">Retrouver un trigger à partir du nom de la fonction associée</a></h1>
    </header>

    <div class="content post-summary">
        <p>Ici encore, tout est dans le catalogue système de PostgreSQL, il suffit
de regarder dans la table <code>pg_trigger</code>.</p>
    </div>
    
    
    

    


<div class="post-info">
    
        <div class="post-date">2011-04-07</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://www.orgrim.net/categories/">PostgreSQL</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://www.orgrim.net/tags/postgresql">#postgresql</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/pg_catalog">#pg_catalog</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
        <article class="post-list">
    <header class="post-header">
        <h1 class="post-title"><a href="/post/2011-03-24-inserer-des-tabulations-dans-sa-ligne-de-commande-bash/">Insérer des tabulations dans sa ligne de commande bash</a></h1>
    </header>

    <div class="content post-summary">
        Il y a longtemps que je me demandais comment faire ça, sans prendre la peine de rechercher ou lire le man. C&rsquo;est chose faite, pour insérer une tabulation, il faut contourner la complétion de commandes avec le combo suivant :
C-v TAB  C&rsquo;est simple, mais ça ne s&rsquo;invente pas.
Pour le coup, c&rsquo;est utile quand on veut voir un fichier de configuration sans les commentaires, par exemple postgresql.conf :
    </div>
    
    
    

    


<div class="post-info">
    
        <div class="post-date">2011-03-24</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://www.orgrim.net/categories/">Unix</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://www.orgrim.net/tags/unix">#unix</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/bash">#bash</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
        <article class="post-list">
    <header class="post-header">
        <h1 class="post-title"><a href="/post/2011-03-14-pg_classreltuples-nest-quune-approximation-du-nombre-de-lignes/">pg_class.reltuples n&#39;est qu&#39;une approximation du nombre de lignes</a></h1>
    </header>

    <div class="content post-summary">
        <p>Dans le catalogue de PostgreSQL, qui donne plein d&rsquo;information sur le
cluster et la base de données, la table <code>pg_class</code> regroupe les
informations sur les tables, les séquences, les index, tout ce qui
contient des colonnes, appelé relation. L&rsquo;un des champs disponibles est
<code>reltuples</code>, il contient le nombre approximatif de lignes dans une
relation. C&rsquo;est <em>approximatif</em>, ainsi ce n&rsquo;est pas un donnée sure&hellip; La
preuve par l&rsquo;exemple.</p>
    </div>
    
    
    

    


<div class="post-info">
    
        <div class="post-date">2011-03-14</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://www.orgrim.net/categories/">PostgreSQL</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://www.orgrim.net/tags/postgresql">#postgresql</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/pg_catalog">#pg_catalog</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
        <article class="post-list">
    <header class="post-header">
        <h1 class="post-title"><a href="/post/2011-03-12-pkgin-adventures-bien-generer-son-pkg_summary/">pkgin adventures - bien générer son pkg_summary</a></h1>
    </header>

    <div class="content post-summary">
        <p>Comme indiqué dans d&rsquo;autres posts, j&rsquo;abuse des chroots <code>pkg_comp</code> pour
tenir mes paquets à jour. Je suis récemment passé à l&rsquo;utilisation de
<code>pkgin</code> pour la gestion de mes paquets une fois préparés dans le chroot.</p>
    </div>
    
    
    

    


<div class="post-info">
    
        <div class="post-date">2011-03-12</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://www.orgrim.net/categories/">NetBSD</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://www.orgrim.net/tags/netbsd">#netbsd</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/pkgin">#pkgin</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
        <article class="post-list">
    <header class="post-header">
        <h1 class="post-title"><a href="/post/2011-03-12-pkgin-adventures-conflit-resolu/">pkgin adventures - conflit résolu</a></h1>
    </header>

    <div class="content post-summary">
        <p>Il y a quelques jours, il a été décidé de remplacer <code>libungif</code> par
<code>giflib</code> dans pkgsrc. Pour éviter de mixer les deux et donc avoir des
problèmes, les deux paquets se déclarent mutuellement en conflit. A
partir de maintenant la dépendance par défaut est sur <code>giflib</code>, ce qui a
donc fait que ma mise à jour (<code>pkg_chk</code> dans un <code>pkg_comp</code>) a tellement
buté dessus que j&rsquo;ai décidé qu&rsquo;il serait plus simple de repartir d&rsquo;un
chroot <code>pkg_comp</code> tout neuf&hellip;</p>
    </div>
    
    
    

    


<div class="post-info">
    
        <div class="post-date">2011-03-12</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://www.orgrim.net/categories/">NetBSD</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://www.orgrim.net/tags/netbsd">#netbsd</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/pkgin">#pkgin</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
        <article class="post-list">
    <header class="post-header">
        <h1 class="post-title"><a href="/post/2011-03-12-pkgin-adventures-utiliser-pkgin-avec-pkgsrc-current/">pkgin adventures - utiliser pkgin avec pkgsrc-current</a></h1>
    </header>

    <div class="content post-summary">
        <p><strong>pkgin</strong> est un outil de gestion de paquets binaires pour pkgsrc, le
système de paquets de NetBSD. Pour pouvoir l&rsquo;utiliser il faut donc des
paquets binaires, sauf que les binaires ne sont officiellement
disponibles que pour les releases trimestrielles de pkgsrc. Quand on
suit pkgsrc-current, il faut donc compiler les paquets et fabriquer un
dépôt.</p>
    </div>
    
    
    

    


<div class="post-info">
    
        <div class="post-date">2011-03-12</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://www.orgrim.net/categories/">NetBSD</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://www.orgrim.net/tags/netbsd">#netbsd</a></li>
                    
                        <li><a href="https://www.orgrim.net/tags/pkgin">#pkgin</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
    
    
        
    <div class="pagination">
        <div class="left pagination-item ">
            
                <a href="/page/2/">articles &#43; récents</a>
            
        </div>
        <div class="right pagination-item ">
            
                <a href="/page/4/">articles &#43; anciens</a>
            
        </div>
    </div>




        </main>
        
            <footer class="common-footer">
    
    
        <ul class="language-select">

<li><a href="https://www.orgrim.net/">Français</a></li>

<li><a href="https://www.orgrim.net/en/">English</a></li>

</ul>
    

    <div class="common-footer-bottom">
        
        <div class="copyright">
            <p>© 2020<br>
            Propulsé par <a target="_blank" rel="noopener noreferrer" href="https://gohugo.io/">Hugo</a>, thème <a target="_blank" rel="noopener noreferrer" href="https://github.com/mitrichius/hugo-theme-anubis">Anubis</a>.
            </p>  
        </div> 

        

    



    <button class="theme-switcher">
        Thème sombre
    </button>

    <script>
    const STORAGE_KEY = 'user-color-scheme'
    const defaultTheme = "dark"

    let currentTheme
    let switchButton
    let autoDefinedScheme = window.matchMedia('(prefers-color-scheme: dark)')

    const autoChangeScheme = e => {
        currentTheme = e.matches ? 'dark' : 'light'
        document.documentElement.setAttribute('data-theme', currentTheme)
        changeButtonText()
    }

    document.addEventListener('DOMContentLoaded', function() {
        switchButton = document.querySelector('.theme-switcher')
        currentTheme = detectCurrentScheme()
        if (currentTheme == 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark')
        }
        if (currentTheme == 'auto') {
            autoChangeScheme(autoDefinedScheme);
            autoDefinedScheme.addListener(autoChangeScheme);
        }
        changeButtonText()
        switchButton.addEventListener('click', switchTheme, false)
    })

    function detectCurrentScheme() {
        if (localStorage.getItem(STORAGE_KEY)) {
            return localStorage.getItem(STORAGE_KEY)
        } 
        if (defaultTheme) {
            return defaultTheme
        } 
        if (!window.matchMedia) {
            return 'light'
        } 
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            return 'dark'
        }
        return 'light'
    }

    function changeButtonText()
    {   
        switchButton.textContent = currentTheme == 'dark' ?  "Thème léger" : "Thème sombre"
    }

    function switchTheme(e) {
        if (currentTheme == 'dark') {
            localStorage.setItem(STORAGE_KEY, 'light')
            document.documentElement.setAttribute('data-theme', 'light')
            currentTheme = 'light'
        } else {
            localStorage.setItem(STORAGE_KEY, 'dark')
            document.documentElement.setAttribute('data-theme', 'dark')
            currentTheme = 'dark'
        }
        changeButtonText()
    }
    </script>
   
    </div>
</footer>

        
    </div>
</body>
</html>
