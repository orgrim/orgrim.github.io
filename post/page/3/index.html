<!DOCTYPE html>
<html lang="fr" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | code. grind. sleep.</title>

<meta name="keywords" content="" />
<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="https://www.orgrim.net/post/" />
<link href="/assets/css/stylesheet.min.e5822bfcb21f8a202b16444ca56d1de6f331407cddd45f1de4a1e0af441b35e4.css" integrity="sha256-5YIr/LIfiiArFkRMpW0d5vMxQHzd1F8d5KHgr0QbNeQ=" rel="preload stylesheet"
    as="style">

<link rel="icon" href="https://www.orgrim.net/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.orgrim.net/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.orgrim.net/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.orgrim.net/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.orgrim.net/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.83.1" />
<link rel="alternate" type="application/rss&#43;xml" href="https://www.orgrim.net/post/index.xml">
<link rel="alternate" hreflang="fr" href="https://www.orgrim.net/post/" />
<link rel="alternate" hreflang="en" href="https://www.orgrim.net/en/post/" />


<meta property="og:title" content="Posts" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.orgrim.net/post/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content=""/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://www.orgrim.net/post/"
    }
  ]
}
</script>




</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }
    </style>

</noscript>
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.orgrim.net/" accesskey="h" title="code. grind. sleep. (Alt + H)">code. grind. sleep.</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                
                

                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://www.orgrim.net/en/" title="English"
                            aria-label="English">En</a>
                    </li>
                </ul>
            </span>
        </div>
        <ul id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://www.orgrim.net/post" title="Blog">
                    <span class="active">Blog</span>
                </a>
            </li>
            <li>
                <a href="https://www.orgrim.net/categories" title="Catégories">
                    <span>Catégories</span>
                </a>
            </li>
            <li>
                <a href="https://www.orgrim.net/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li></ul>
    </nav>
</header>

    <main class="main"> 
<header class="page-header">

  <h1>Posts</h1>
</header>





<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      X11 forwarding request failed on channel 0
    </h2>
  </header>
  <section class="entry-content">
    <p>Quand j’essaye de me logguer sur ma box NetBSD fraichement passé en X.org modular, j’ai ça :
orgrim@serfouette ~ $ ssh rateau X11 forwarding request failed on channel 0 Last login: Fri Oct 21 12:20:24 2011 from serfouette.home.orgrim.net  WTF? ça tombe en marche SSH normalement.
Et bien le souci vient de l’échange des magic cookies pour l’authentification entre serveurs X à travers SSH, c’est utilisé par le X11 forwarding et on a besoin de plusieurs choses pour ça :...</p>
  </section>
  <footer class="entry-footer">2011-10-21&nbsp;·&nbsp;2 min
</footer>
  <a class="entry-link" aria-label="post link to X11 forwarding request failed on channel 0" href="https://www.orgrim.net/post/2011-10-21-x11-forwarding-request-failed-on-channel-0/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Quand PostgreSQL n&#39;a plus d&#39;espace disque à manger
    </h2>
  </header>
  <section class="entry-content">
    <p>Voilà donc une question intéressante, comment se comporte PostgreSQL face à un système de fichier plein ? Un peu d’expérimentation est nécessaire pour se rassurer…
On crée deux systèmes de fichiers de faible taille pour les tests. Le premier stockera PGDATA, ainsi qu’une base de données nommée db_data. Le second sera le tablesapce ts1, dans lequel oncréera une base de données db_ts1.
L’objectif est de montrer que seules les transactions modifiant des objets stockés sur des systèmes de fichier plein sont affectées, c’est pourquoi on a besoin de plusieurs tablespaces....</p>
  </section>
  <footer class="entry-footer">2011-10-14&nbsp;·&nbsp;4 min
</footer>
  <a class="entry-link" aria-label="post link to Quand PostgreSQL n&#39;a plus d&#39;espace disque à manger" href="https://www.orgrim.net/post/2011-10-14-quand-postgresql-na-plus-despace-disque-a-manger/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Passer de X.org natif à modular
    </h2>
  </header>
  <section class="entry-content">
    <p>X.org est fourni dans le basesys et dans pkgsrc, on appelle le premier « native » et le second « modular » selon la valeur de la variable X11_TYPE que l’on positionne dans son /etc/mk.conf pour signifier à pkgsrc sur lequel linker.
...</p>
  </section>
  <footer class="entry-footer">2011-09-19&nbsp;·&nbsp;3 min
</footer>
  <a class="entry-link" aria-label="post link to Passer de X.org natif à modular" href="https://www.orgrim.net/post/2011-09-19-passer-de-xorg-natif-a-modular/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Bulk build partiel de pkgsrc
    </h2>
  </header>
  <section class="entry-content">
    <p>En suivant l&#39;excellent tip de Mr GuiGui2, j’ai pu monter ma petite archi de bulk build personnelle pour fournir du package tout frais à pkgin.
J’ai donc ajouté le bloc magique suivant à mon /etc/mk.conf, qui permet de gérer la présence de commentaires dans pkgchk.conf :
# bulk build config DEPENDS_TARGET= bulk-install BATCH= yes BULK_PREREQ&#43;= pkgtools/lintpkgsrc .if defined(SPECIFIC_PKGS) PKGLIST!= awk &#39;$$1 !~ /^\\#/ {print $$1}&#39; ${PKGCHK_CONF} . for _pkg_ in ${PKGLIST} HOST_SPECIFIC_PKGS&#43;= ${_pkg_} ....</p>
  </section>
  <footer class="entry-footer">2011-08-19&nbsp;·&nbsp;2 min
</footer>
  <a class="entry-link" aria-label="post link to Bulk build partiel de pkgsrc" href="https://www.orgrim.net/post/2011-08-19-bulk-build-partiel-de-pkgsrc/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Montrer les dépendances avec make dans pkgsrc
    </h2>
  </header>
  <section class="entry-content">
    <p>Généralement, on peut savoir quelles sont les dépendances d’un package en utilisant make show-depends, mais cela ne montre que les dépendances pour l’installation, les dépendances pour la compilation ne sont pas montrées.
$ cd /usr/pkgsrc/databases/postgresql90-server/ $ make show-depends postgresql90-client&gt;=9.0.4:../../databases/postgresql90-client  Pour connaître les dépendances selon leur type (installation ou compilation), on peut utiliser la cible show-depends-pkgpaths alliée à la variable DEPENDS_TYPE.
Pour avoir seulement les dépendances de compilation :
$ make DEPENDS_TYPE=build show-depends-pkgpaths devel/bison devel/gmake pkgtools/digest  Pour avoir seulement celles d’installation :...</p>
  </section>
  <footer class="entry-footer">2011-08-18&nbsp;·&nbsp;1 min
</footer>
  <a class="entry-link" aria-label="post link to Montrer les dépendances avec make dans pkgsrc" href="https://www.orgrim.net/post/2011-08-18-montrer-les-dependances-avec-make-dans-pkgsrc/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Le client de la BuildFarm de PostgreSQL dans pkgsrc-wip
    </h2>
  </header>
  <section class="entry-content">
    <p>Comme j’annonçais précédemment, je contribue deux machines NetBSD à la BuildFarm de PostgreSQL. La compilation ne se fait automagiquement qu’après la configuration du client (écrit en Perl). Il n’est d’ailleurs pas forcément très convi à installer, c’est pourquoi je l’ai packagé pour pkgsrc : http://pkgsrc.se/wip/pgbuildfarm.
...</p>
  </section>
  <footer class="entry-footer">2011-08-06&nbsp;·&nbsp;2 min
</footer>
  <a class="entry-link" aria-label="post link to Le client de la BuildFarm de PostgreSQL dans pkgsrc-wip" href="https://www.orgrim.net/post/2011-08-06-le-client-de-la-buildfarm-de-postgresql-dans-pkgsrc-wip/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Could not open relation with oid N
    </h2>
  </header>
  <section class="entry-content">
    <p>On peut parfois trouver cet étrange message d’erreur dans les traces de PostgreSQL (N étant un nombre) ou lors de l’exécution d’une requête :
ERROR: could not open relation with OID N  Si on recherche ce message dans les mailing-lists du projet, on peut facilement conclure que la base de données est corrompue, qu’il y a des problèmes matériels et que la sécurité des données est en péril. Et bien, ce n’est pas forcément le cas : obtenir ce message peut être tout à fait normal....</p>
  </section>
  <footer class="entry-footer">2011-08-04&nbsp;·&nbsp;4 min
</footer>
  <a class="entry-link" aria-label="post link to Could not open relation with oid N" href="https://www.orgrim.net/post/2011-08-04-could-not-open-relation-with-oid-n/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Configuration réseau pour virtualiser chez OVH
    </h2>
  </header>
  <section class="entry-content">
    <p>Sur mon serveur chez OVH, j’ai un ensemble de machines virtuelles KVM et (bientôt) de conteneurs LXC. Pour fournir du réseau à tout ce petit monde, j’utilise de l’IPv4 et de l’IPv6, voici comment c’est configuré.
Pour l’IPv4, on a un nombre limité d’IP publiques parce que ça vaut de la thune et que ça va être de plus en tendu de multiplier les adresses, il nous faut un réseau privé (beurk), du NAT (rebeurk) et des redirections à base d’iptables (re-rebeurk)....</p>
  </section>
  <footer class="entry-footer">2011-07-04&nbsp;·&nbsp;3 min
</footer>
  <a class="entry-link" aria-label="post link to Configuration réseau pour virtualiser chez OVH" href="https://www.orgrim.net/post/2011-07-04-configuration-reseau-pour-virtualiser-chez-ovh/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      NetBSD en KVM
    </h2>
  </header>
  <section class="entry-content">
    <p>Comme je viens d’investir dans un serveur kimsufi (le 16G), je me suis dis qu’avoir quelques machines NetBSD pour servir la bonne cause ça serait bien cool.
...</p>
  </section>
  <footer class="entry-footer">2011-07-04&nbsp;·&nbsp;2 min
</footer>
  <a class="entry-link" aria-label="post link to NetBSD en KVM" href="https://www.orgrim.net/post/2011-07-04-netbsd-en-kvm/"></a>
</article>

<article class="post-entry"> 

  <header class="entry-header">
    <h2>
      Rediriger stdout/stderr depuis un script avec du pipe
    </h2>
  </header>
  <section class="entry-content">
    <p>Pour rediriger stdout/stderr à l’interieur vers l’entrée standard d’un commande, il faut utiliser exec et du sous-shell. Cette astuce est un bashisme a priori.
L’objectif est de renvoyer tous les messages du script dans syslog sans mettre de redirection sur la ligne de commande. Le principe général est :
exec FD&gt; &gt;(COMMAND)   FD est le numéro du file descriptor, 1 pour stdout, 2 pour stderr COMMAND est la commande a exécuter, elle doit bien sûr lire les données en entrée....</p>
  </section>
  <footer class="entry-footer">2011-06-29&nbsp;·&nbsp;1 min
</footer>
  <a class="entry-link" aria-label="post link to Rediriger stdout/stderr depuis un script avec du pipe" href="https://www.orgrim.net/post/2011-06-29-rediriger-stdoutstderr-depuis-un-script-avec-du-pipe/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://www.orgrim.net/post/page/2/">« Page Précédente</a>
    <a class="next" href="https://www.orgrim.net/post/page/4/">Page Suivante »</a>
  </nav>
</footer>

    </main><footer class="footer">
    <span>&copy; 2022 <a href="https://www.orgrim.net/">code. grind. sleep.</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a></span>
    <span>&middot;</span>
    <span>Theme <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>



<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

</body>

</html>
